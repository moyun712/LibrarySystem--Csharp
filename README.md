# 图书馆管理系统 (Library Management System)

这是一个用C#开发的控制台应用程序，用于管理图书馆的日常运营，包括图书和杂志的管理、会员管理以及借阅服务。系统提供了丰富的功能，适合学习C#面向对象编程和设计模式。

## 功能特点

### 图书管理
- 添加新图书和杂志
- 根据ID删除图书馆物品
- 更新图书和杂志信息（标题、作者、出版社等）
- 按类别管理图书（小说、非小说、科学、历史、技术、文学等）
- 管理杂志（包括期号、ISSN、发行频率）
- 按标题、作者、出版社等字段搜索
- 跟踪每本书的可用副本数

### 会员管理
- 添加和管理不同类型的会员（学生、教职工、VIP、普通会员）
- 根据会员ID删除账户
- 更新会员信息（姓名、联系方式等）
- 按姓名、联系方式查找会员
- 每种会员类型有不同的借阅权限
- 会员借阅历史记录查询

### 借阅服务
- 借出和归还图书/杂志
- 自动计算逾期罚款
- 查看所有借阅记录
- 查看会员借阅历史
- 高级借阅历史查询（按时间范围、借阅状态等）
- 预约已被借出的图书
- 取消预约
- 图书归还后自动通知预约会员
- 查看会员预约记录和所有预约记录

## 技术实现

- 使用C# 8.0/.NET Core开发
- 采用面向对象编程原则设计
- 实现了三层架构（表示层、业务逻辑层、数据访问层）
- 应用仓储模式进行数据管理
- 使用泛型和接口实现代码复用
- 实现多线程安全的数据访问
- 使用异常处理机制确保系统稳定性
- 使用LINQ进行高效的数据查询和处理
- 应用Lambda表达式简化代码

## 系统架构

### 表示层
- `Program.cs`: 主程序入口，包含菜单显示和用户输入处理

### 业务逻辑层
- `Library.cs`: 核心业务逻辑类，协调各个组件的工作
- `LibraryException.cs`: 业务异常处理

### 领域模型层
- `LibraryItem.cs`: 所有馆藏物品的基类
  - `Book.cs`: 图书类，继承自LibraryItem
  - `Magazine.cs`: 杂志类，继承自LibraryItem
- `Member.cs`: 会员类
- `BorrowRecord.cs`: 借阅记录类
- `ReservationRecord.cs`: 预约记录类
- `MemberType.cs`: 会员类型枚举
- `BookCategory.cs`: 图书分类枚举
- `BorrowStatus.cs`: 借阅状态枚举
- `ReservationStatus.cs`: 预约状态枚举

### 数据访问层
- `IRepository.cs`: 数据访问接口
- `Repository.cs`: 数据访问实现
- `DbConnectionFactory.cs`: 数据库连接工厂（预留）

### 数据模型
- 使用内存中的集合存储数据（可扩展为数据库存储）
- 实现了IRepository接口进行数据访问抽象
- 使用泛型约束确保类型安全

## 如何使用

1. 克隆仓库到本地
2. 使用Visual Studio或Visual Studio Code打开解决方案
3. 构建并运行项目
4. 按照控制台提示进行操作

## 系统要求

- .NET 8.0 或更高版本
- 支持C# 8.0的IDE（如Visual Studio 2022或Visual Studio Code）

## 学习要点

通过学习和使用这个项目，掌握了以下C#编程知识点：

1. 面向对象编程（继承、多态、封装、抽象）
2. 泛型和接口的设计与使用
3. 仓储模式的实现
4. 异常处理机制
5. LINQ查询和Lambda表达式
6. 多线程安全编程（使用lock关键字）
7. 三层架构的设计与实现


